- invalidにifで入らない
- typecode（0と1）とかsetState使わない？
- startとstopの実装
  - インスタンスreturnでいいか
  - 毎回newするのでいいか。シングルトンにするならどこにインスタンス持っておく？